<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Log kroků a poznatků</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<meta name="robots" content="noindex,nofollow"/>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="extra.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Místa realizace ESIF: čištění dat</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Návody a dokumentace
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="how-to-repeat.html">Jak postup zopakovat</a>
    </li>
    <li>
      <a href="widget.html">Pomůcka k řešení nekonzistentních dat</a>
    </li>
    <li>
      <a href="codebook.html">Dokumentace výstupu</a>
    </li>
    <li>
      <a href="dev.html">Technická dokumentace</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vizuální kontrola postupu
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01_input-checks.html">Kontrola úplnosti a konzistence</a>
    </li>
    <li>
      <a href="02_validate.html">Ověření geodat</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="03_explore.html">Struktura dat</a>
    </li>
    <li>
      <a href="04_explore-complicated-projects.html">Analýza geograficky složitých projektů</a>
    </li>
    <li>
      <a href="06_explore-obecless-projects.html">Analýza projektů bez identifikace obce ZÚJ</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="05_resolve-simple.html">Projekty s určením obce</a>
    </li>
    <li>
      <a href="07_resolve-obecless-projects.html">Projekty bez určení obce/ZÚJ</a>
    </li>
    <li>
      <a href="08_resolve-placeless.html">Projekty bez místa realizace</a>
    </li>
    <li>
      <a href="09_resolve-complicated.html">Projekty s nehierarchickým určením místa</a>
    </li>
    <li>
      <a href="10_compile-export.html">Kompilace a export</a>
    </li>
  </ul>
</li>
<li>
  <a href="log.html">Záznam kroků a poznatků</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/petrbouchal/mmr-esif-clean">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Log kroků a poznatků</h1>

</div>


<div id="srpen-září-2020" class="section level2">
<h2>srpen-září 2020</h2>
<div id="zkušební-exporty" class="section level3">
<h3>Zkušební exporty:</h3>
<ul>
<li><a href="opz-one-chunk.xlsx">jeden kus OPZ (cca 500 000 řádků z celkem cca 7 mil.)</a></li>
<li><a href="sample_export.xlsx">vzorek projektů zahrnující různé OP a typy řešených mezer v datech</a></li>
</ul>
<p>V datovém exportu jsou následující položky:</p>
<ul>
<li><code>prj_id</code>: kód projektu</li>
<li><code>op_id</code>: zkratka OP</li>
<li><code>value</code>: kód obce nebo ZÚJ podle číselníku ČSÚ</li>
<li>vysvětlení způsobu rozpadu na třech úrovních
<ul>
<li><code>obec_puvod</code>: typ dovození obce (chybějící místo; bez obce; zúžení)</li>
<li><code>rozpad_typ</code>: způsob rozpadu/dovození (kód)</li>
<li><code>rozpad_duvod</code>: bližší zdůvodnění) rozpadu/dovození obce</li>
</ul></li>
<li><code>level</code>: geografická úroveň idenfitikátoru (obec/zuj)</li>
<li><code>radek</code>: pořadové číslo řádků v rámci projektu</li>
<li><code>level_orig</code>: nejjemnější geografická úroveň, na které byl projekt lokalizován v původních datech</li>
<li><code>id_orig</code>: všechna území, která na této úrovni projekt lokalizovala (oddělená čárkou)</li>
<li><code>chunk</code>: díl souboru (pro export do dílčích XLSX souborů)</li>
</ul>
</div>
<div id="otázky-k-výstupní-datové-formě" class="section level3">
<h3>Otázky k výstupní datové formě:</h3>
<p>Výstup bude mít cca 20 excelových souborů po cca 20 MB. (Lze i větší soubory, ale je to pak pro uživatele dat nešikovné).</p>
<ul>
<li>které další položky tam chceme přidat?</li>
<li>chceme obce podle ČSÚ (př. 554782), nebo podle původních dat (př. CZ010554782)?</li>
<li>formát (XLSX, CSV?)</li>
<li>podle čeho rozdělovat do souborů, pokud budeme? (zatím počítám s OP a pak tak, aby v souboru bylo jen cca 500 000 řádků)</li>
</ul>
</div>
<div id="stav" class="section level3">
<h3>Stav:</h3>
<ul>
<li>hotové překlady všech projektů do obecní úrovně, až na výjimku 119 projektů
<ul>
<li>projekty bez místa realizace: rozpadnuty na obce v daných CHKO/NP</li>
<li>projekty bez údaje o obci: rozpadnuto a dovozeno několika způsoby podle výzev, příjemců, názvu a anotace projektu atd. Kde to bylo možné, je výsledná lokalizace na ZÚJ (městské části), jinak obce</li>
<li>projekty s více úrovněmi místa realizace: zúženy na obce a ZÚJ</li>
</ul></li>
</ul>
<p>Zádrhele:</p>
<ul>
<li>cca 1000 projektů je v původních datech lokalizováno na více než 11 krajů, tj. téměř plošné projekty. Jejich mechanický rozpad na všechny obce generuje obrovské množství řádků</li>
<li>spousta těchto projektů by při pečlivém třídění šla lokalizovat přesněji, ale muselo by se jít projekt po projektu nebo alespoň výzvu po výzvě, kde ale výzva může být jen několik desítek projektů (výzvy s mnoha projekty jsou v našich rozpadech rozpoznané a ošetřené)</li>
<li>u některých projektů OP Z na firemní vzdělávání původně lokalizovaných na 11+ krajů jsme museli udělat úvahu, že se dějí pouze v místě sídla - většinou takové určení bylo nesmyslné (malé firmy), ale někde to mohlo být realistické (státní podniky, velké firmy)</li>
<li>u projektů, které jsme do obce zařadili podle detekce geografického názvu v názvu nebo anotaci projektu bude malé množství falešných pozitiv - např. pokud v anotaci stojí, že projekt se týká území “mimo ORP Blansko”, projekt je přesto rozpadnut na obce ORP Blansko, protože běžnou technologií není možné tyto nuance spolehlivě zachytit.</li>
</ul>
<p>Pokud by se ukázalo, že toto je velký problém, je možné se u projektů s takto dovozenou obcí vrátit k původním údajům (viz popis položek výše).</p>
</div>
<div id="to-do" class="section level3">
<h3>To do:</h3>
<ul>
<li>detailnější popis výstupních dat</li>
<li>včetně toho, jak jednotlivá dovození obcí fungují a kde může být problém</li>
<li>aktualizace technické dokumentace</li>
<li>sestavit mechanismus na rozřešení těch (zatím) <a href="04_explore-complicated-projects.html">119 projektů, které mají nesouvislou lokalizaci</a></li>
</ul>
</div>
</div>
<div id="section" class="section level2">
<h2>10. 8. 2020</h2>
<div id="kontrola-interní-validity-názvů-a-identifikátorů" class="section level3">
<h3>Kontrola interní validity názvů a identifikátorů</h3>
<p>Tj. odpovídají názvy územních jednotech v našich datech těm názvům, které pod stejným identifikátorem najdeme v číselnících ČSÚ?</p>
<div id="téměř-vše-ok" class="section level4">
<h4><svg style="height:0.8em;top:.04em;position:relative;fill:black;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> <a href="https://esif-data-cleaning.netlify.app/02_validate.html#Validita_jmen_proti_registr%C5%AFm">téměř vše OK</a></h4>
<p>Jen u několika desítek míst lehce neseděly názvy - velká a malá písmena, název Horní u Dolní vs. jen Horní atd. Pro lepší napojitelnost na další data ČSÚ jsem se rozhodl data upravit směrem ke konformitě s ČSÚ.</p>
</div>
</div>
<div id="kontrola-validity-geografické-hierarchie" class="section level3">
<h3><a href="https://esif-data-cleaning.netlify.app/03_explore.html#Validita_%C3%BAzemn%C3%AD_hierarchie">Kontrola validity geografické hierarchie</a></h3>
<p>tj. jak časté jsou projekty, které se realizovaly např. zároveň v kraji X a obci O, která neleží v kraji X?</p>
<div class="figure">
<img src="03_explore_files/figure-html/geostatus-plot-abs-1.png" alt="" />
<p class="caption">Graf absolutních počtů projektů podle OP a kombinace území</p>
</div>
<div id="není-to-příliš-časté-ale-život-nám-to-zkomplikuje" class="section level4">
<h4><svg style="height:0.8em;top:.04em;position:relative;fill:#f0ad4e;" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg> Není to příliš časté, ale život nám to zkomplikuje</h4>
<p>máme asi 500 projektů (tj. &lt; 1 % z celku), u kterých jsou uvedena místa realizace na různé administrativní úrovni a zároveň tato místa neleží v jedné hierarachické lince. Nejčastější je to u OP VVV a OP ŽP, něco málo též u OP D a OP PIK.</p>
<p>Díky tomu ale máme nachystané datové struktury a algoritmy na libovolné porovnávání, rozpadání atd. míst realizace v různých kombinacích počtů a úrovní.</p>
<p>Další krok bude rozčlenit těch cca 500 komplikovaných projektů (nejspíš podle výzev) a udělat nějakou úvahu o tom, jak s nimi naložit při finální akokaci místa realizace.</p>
</div>
</div>
</div>
<div id="section-1" class="section level2">
<h2>29. 5. 2020</h2>
<div id="hromadné-načtení-dat-a-základní-kontrola" class="section level3">
<h3>Hromadné načtení dat a základní kontrola</h3>
<div id="vše-ok" class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#5cb85c;" viewBox="0 0 512 512"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></svg> vše OK</h5>
</div>
</div>
<div id="kontrola-interní-validity-dat" class="section level3">
<h3><a href="1-input-checks.html">Kontrola interní validity dat</a></h3>
<div id="v-datasetu-je-85-146-projektů-na-celkem-147-683-řádcích-rozložení-mezi-op-dává-smysl." class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#428bca;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> V datasetu je 85 146 projektů na celkem 147 683 řádcích; rozložení mezi OP dává smysl.</h5>
</div>
<div id="existuje-cca-200-projektů-u-kterých-známe-sídlo-příjemce-ale-neznáme-jeho-název." class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:black;" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg> Existuje cca 200 projektů, u kterých známe sídlo příjemce, ale neznáme jeho název.</h5>
</div>
<div id="existuje-cca-46-projektů-u-kterých-neznáme-sídlo-příjemce." class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:black;" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg> Existuje cca 46 projektů, u kterých neznáme sídlo příjemce.</h5>
</div>
<div id="některé-subjekty-zahlédl-jsem-nepočítal-systematicky-mají-v-různých-projektech-různá-sídla" class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:black;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> Některé subjekty (zahlédl jsem, nepočítal systematicky) mají v různých projektech různá sídla</h5>
<p>Ale to je asi OK.</p>
<p>To by neměla vadit, pokud zrovna u těchto projektů nebudeme muset dovozovat místo realizace ze sídla.</p>
</div>
<div id="existují-2-projekty-op-pik-kde-číslo-projektu-obsahuje-jen-finální-číselnou-část." class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#f0ad4e;" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg> Existují 2 projekty OP PIK, kde číslo projektu obsahuje jen finální číselnou část.</h5>
<p>Vadí, nevadí?</p>
</div>
<div id="projektů-nemá-žádné-místo-realizace-1-z-op-z-23-z-op-žp." class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#d9534f;" viewBox="0 0 576 512"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/></svg> 24 projektů nemá žádné místo realizace: 1 z OP Z, 23 z OP ŽP.</h5>
<p>Část jsou velké plošné projekty AOPK, část lokální, které by šly alokovat podle příjemce.</p>
</div>
</div>
<div id="validace-dat-proti-číselníkům" class="section level3">
<h3><a href="1_input-checks.html">Validace dat proti číselníkům</a></h3>
<div id="ok-ale-vyžadovalo-dost-úprav-aby-kompozitní-identifikátory-obcí-a-zuj-seděly-proti-číselníkům" class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#428bca;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> OK, ale vyžadovalo dost úprav, aby kompozitní identifikátory obcí a ZUJ seděly proti číselníkům</h5>
</div>
<div id="je-třeba-vyřadit-jeden-projekt-op-z-s-místem-realizace-v-polsku" class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:black;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> je třeba vyřadit jeden projekt OP Z s místem realizace v Polsku</h5>
<p>Je to ale logické, je to projekt z výzvy na mobility.</p>
</div>
<div id="ještě-nás-čeká-kontrola-interní-validity-geografických-názvů" class="section level5">
<h5>Ještě nás čeká kontrola interní validity geografických názvů</h5>
<p>tj. jestli místo s ID X má stejný název v datech a v ofiko číselnících</p>
</div>
<div id="a-kontrola-interní-validity-administrativně-prostorové-hierarchie" class="section level5">
<h5>…a kontrola interní validity administrativně-prostorové hierarchie</h5>
<p>tj. jestli někde nejsou projekty rozpadnuty do území, které neodpovídají jejich (zadaným nebo intuitivně smysluplným) nadřazeným geografickým jednotkám.</p>
</div>
</div>
<div id="explorace-struktury-geografických-informací-v-datasetu" class="section level3">
<h3><a href="3_explore.html">Explorace struktury geografických informací v datasetu</a></h3>
<div id="zhruba-10-tisíc-projektů-je-označeno-ve-více-než-jedné-geografické-úrovni" class="section level5">
<h5><svg style="height:0.8em;top:.04em;position:relative;fill:#428bca;" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg> Zhruba 10 tisíc projektů je označeno ve více než jedné geografické úrovni</h5>
<p>Dominantní je to u OP PPR, relativně časté u IROPu, OP D a OP ŽP.</p>
<p>S těmi tedy budeme muset zacházet specificky - např. kontrolovat, jestli nižší a vyšší jednotky do sebe zapadají.</p>
</div>
</div>
<div id="další-otázky-do-následujících-kroků" class="section level3">
<h3>Další otázky do následujících kroků</h3>
<ul>
<li>v jaké formě se budou vkládat nová data?
<ul>
<li>nové soubory, stejná forma, jen nové řádky</li>
<li>stejné soubory, doplněné řádky</li>
<li>jinak</li>
</ul></li>
<li>očekáváme další OP?</li>
<li>co přeshranička?</li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
